{"meta":{"title":"0hayo","subtitle":null,"description":"ç«™åœ¨è‡ªå·±æ‰€çƒ­çˆ±çš„ä¸–ç•Œé‡Œï¼","author":"0hayo","url":""},"pages":[{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2022-11-21T06:29:21.625Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2022-11-21T05:58:54.585Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2022-11-21T05:58:54.585Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[ãªã‚“ã§ã‚‚ãªã„ã‚„ã®0hayo] ä¸&nbsp; 0hayo&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2022-11-21T09:10:01.763Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2022-11-21T06:29:31.857Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2022-11-21T05:58:54.585Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2022-11-21T05:58:54.585Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2022-11-21T05:58:54.585Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2022-11-21T05:58:54.585Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2022-11-21T05:58:54.585Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2022-11-21T05:58:54.585Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2022-11-21T05:58:54.585Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"viteé…ç½®å…¨å±€svgå›¾æ ‡","slug":"svg-vite/index","date":"2022-04-07T02:27:17.000Z","updated":"2022-11-21T06:41:36.191Z","comments":true,"path":"2022/04/07/svg-vite/index/","link":"","permalink":"/2022/04/07/svg-vite/index/","excerpt":"","text":"vite.config.tsé…ç½®import path from &#39;path&#39;; import { createSvgIconsPlugin } from &#39;vite-plugin-svg-icons&#39;; export default defineConfig(env =&gt; { return { plugins: [ createSvgIconsPlugin({ // æŒ‡å®šè¦ç¼“å­˜çš„å›¾æ ‡æ–‡ä»¶å¤¹ iconDirs: [path.resolve(process.cwd(), &#39;src/render/assets/svg&#39;)], // æ‰§è¡Œicon nameçš„æ ¼å¼ symbolId: &#39;icon-[dir]-[name]&#39;, }) ] } }) SvgIcon.vue&lt;template&gt; &lt;svg :class=&quot;svgClass&quot; aria-hidden=&quot;true&quot;&gt; &lt;use :xlink:href=&quot;iconName&quot; :fill=&quot;color&quot; /&gt; &lt;/svg&gt; &lt;/template&gt; &lt;script lang=&quot;ts&quot;&gt; import { defineComponent, computed } from &#39;vue&#39;; export default defineComponent({ props: { iconClass: { type: String, required: true }, className: { type: String, default: &#39;&#39; }, color: { type: String, default: &#39;&#39; }, }, setup(props) { return { iconName: computed(() =&gt; `#icon-${props.iconClass}`), svgClass: computed(() =&gt; { if (props.className) { return `svg-icon ${props.className}` } return &#39;svg-icon&#39; }) } } }) &lt;/script&gt; &lt;style scoped&gt; .svg-icon { width: 1em; height: 1em; position: relative; fill: currentColor; vertical-align: -2px; } &lt;/style&gt; main.js å¼•ç”¨SvgIcon.vueimport { createApp } from &#39;vue&#39; import App from &#39;./App.vue&#39; import &#39;virtual:svg-icons-register&#39;; import SvgIcon from &#39;@/render/components/svgIcon/SvgIcon.vue&#39;; const app = createApp(App); app.component(&#39;svg-icon&#39;,SvgIcon); home.vue ä½¿ç”¨SvgIcon&lt;template&gt; &lt;div class=&quot;home&quot;&gt; &lt;svg-icon iconClass=&quot;noNet&quot; className=&quot;className&quot; /&gt; &lt;/div&gt; &lt;/template&gt;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}],"tags":[{"name":"vite","slug":"vite","permalink":"/tags/vite/"},{"name":"svg","slug":"svg","permalink":"/tags/svg/"},{"name":"å›¾æ ‡","slug":"å›¾æ ‡","permalink":"/tags/å›¾æ ‡/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}]},{"title":"electronï¼ˆsendã€sendSyncã€invokeï¼‰ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹é€šä¿¡çš„åŒºåˆ«","slug":"electron-ipc/index","date":"2022-04-06T09:37:17.000Z","updated":"2022-11-21T06:44:12.538Z","comments":true,"path":"2022/04/06/electron-ipc/index/","link":"","permalink":"/2022/04/06/electron-ipc/index/","excerpt":"","text":"ipcRender.sendæ¸²æŸ“è¿›ç¨‹ render.js // render.js const { ipcRenderer } = require(&#39;electron&#39;); // send æ–¹æ³•å‘é€ï¼Œå¹¶ç»‘å®šå¦ä¸€ä¸ªäº‹ä»¶æ¥æ”¶è¿”å›å€¼ function sendMessageToMain() { ipcRenderer.send(&#39;render-send-to-main&#39;, &#39;æˆ‘æ˜¯æ¸²æŸ“è¿›ç¨‹é€šè¿‡ send å‘é€çš„æ¶ˆæ¯&#39;); } ipcRenderer.on(&#39;main-reply-to-render&#39;, (event, message) =&gt; { console.log(&#39;replyMessage&#39;, message); // &#39;replyMessage ä¸»è¿›ç¨‹é€šè¿‡ reply å›å¤ç»™æ¸²æŸ“è¿›ç¨‹çš„æ¶ˆæ¯&#39; }) ä¸»è¿›ç¨‹ main.jsï¼š // main.js const { ipcMain } = require(&#39;electron&#39;); ipcMain.on(&#39;render-send-to-main&#39;, (event, message) =&gt; { console.log(`receive message from render: ${message}`) event.reply(&#39;main-reply-to-render&#39;, &#39;ä¸»è¿›ç¨‹é€šè¿‡ reply å›å¤ç»™æ¸²æŸ“è¿›ç¨‹çš„æ¶ˆæ¯&#39;) }) 1ã€ä¸»è¿›ç¨‹é€šè¿‡ ipcMain.on æ¥ç›‘å¬æ¸²æŸ“è¿›ç¨‹çš„æ¶ˆæ¯2ã€ä¸»è¿›ç¨‹æ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œå¯ä»¥å›å¤æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä¸å›å¤ã€‚å¦‚æœå›å¤çš„è¯ï¼Œé€šè¿‡ event.reply å‘é€å¦ä¸€ä¸ªäº‹ä»¶ï¼Œæ¸²æŸ“è¿›ç¨‹ç›‘å¬è¿™ä¸ªäº‹ä»¶å¾—åˆ°å›å¤ç»“æœã€‚å¦‚æœä¸å›å¤æ¶ˆæ¯çš„è¯ï¼Œæ¸²æŸ“è¿›ç¨‹å°†æ¥ç€æ‰§è¡Œ ipcRenderer.send ä¹‹åçš„ä»£ç  ipcRender.sendSyncæ¸²æŸ“è¿›ç¨‹ render.jsï¼š // render.js const { ipcRenderer } = require(&#39;electron&#39;); function sendSyncMessageToMain() { const replyMessage = ipcRenderer.sendSync(&#39;render-send-sync-to-main&#39;, &#39;æˆ‘æ˜¯æ¸²æŸ“è¿›ç¨‹é€šè¿‡ syncSend å‘é€ç»™ä¸»è¿›ç¨‹çš„æ¶ˆæ¯&#39;); console.log(&#39;replyMessage&#39;, replyMessage); // &#39;ä¸»è¿›ç¨‹å›å¤çš„æ¶ˆæ¯&#39; } ä¸»è¿›ç¨‹ main.jsï¼š // main.js const { ipcMain } = require(&#39;electron&#39;); ipcMain.on(&#39;render-send-sync-to-main&#39;, (event, message) =&gt; { console.log(`receive message from render: ${message}`) event.returnValue = &#39;ä¸»è¿›ç¨‹å›å¤çš„æ¶ˆæ¯&#39;; }) 1ã€ä¸»è¿›ç¨‹é€šè¿‡ ipcMain.on æ¥å¤„ç†æ¸²æŸ“è¿›ç¨‹å‘é€çš„æ¶ˆæ¯2ã€ä¸»è¿›ç¨‹é€šè¿‡ event.returnValue å›å¤æ¸²æŸ“è¿›ç¨‹æ¶ˆæ¯3ã€å¦‚æœ event.returnValue ä¸ä¸º undefined çš„è¯ï¼Œæ¸²æŸ“è¿›ç¨‹ä¼šç­‰å¾… sendSync çš„è¿”å›å€¼æ‰æ‰§è¡Œåé¢çš„ä»£ç 4ã€è¯·ä¿è¯ event.returnValueæ˜¯æœ‰å€¼çš„ï¼Œå¦åˆ™ä¼šé€ æˆéé¢„æœŸçš„å½±å“ ipcRender.invokeæ¸²æŸ“è¿›ç¨‹ render.jsï¼š // render.js const { ipcRenderer } = require(&#39;electron&#39;); async function invokeMessageToMain() { const replyMessage = await ipcRenderer.invoke(&#39;render-invoke-to-main&#39;, &#39;æˆ‘æ˜¯æ¸²æŸ“è¿›ç¨‹é€šè¿‡ invoke å‘é€çš„æ¶ˆæ¯&#39;); console.log(&#39;replyMessage&#39;, replyMessage); } ä¸»è¿›ç¨‹ main.jsï¼š // main.js const { ipcMain } = require(&#39;electron&#39;); ipcMain.handle(&#39;render-invoke-to-main&#39;, async (event, message) =&gt; { console.log(`receive message from render: ${message}`) const result = await asyncWork(); return result; }) const asyncWork = async () =&gt; { return new Promise(resolve =&gt; { setTimeout(() =&gt; { resolve(&#39;å»¶è¿Ÿ 2 ç§’è·å–åˆ°ä¸»è¿›ç¨‹çš„è¿”å›ç»“æœ&#39;) }, 2000) }) } 1ã€ä¸»è¿›ç¨‹é€šè¿‡ ipcMain.handle æ¥å¤„ç†æ¸²æŸ“è¿›ç¨‹å‘é€çš„æ¶ˆæ¯2ã€ä¸»è¿›ç¨‹æ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œå¯ä»¥å›å¤æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä¸å›å¤ã€‚å¦‚æœå›å¤æ¶ˆæ¯çš„è¯ï¼Œå¯ä»¥é€šè¿‡ return ç»™æ¸²æŸ“è¿›ç¨‹å›å¤æ¶ˆæ¯ï¼›å¦‚æœä¸å›å¤æ¶ˆæ¯çš„è¯ï¼Œæ¸²æŸ“è¿›ç¨‹å°†æ¥ç€æ‰§è¡Œ ipcRenderer.invoke ä¹‹åçš„ä»£ç 3ã€æ¸²æŸ“è¿›ç¨‹å¼‚æ­¥ç­‰å¾…ä¸»è¿›ç¨‹çš„å›åº”ï¼Œ invoke çš„è¿”å›å€¼æ˜¯ä¸€ä¸ª Promise","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}],"tags":[{"name":"electron","slug":"electron","permalink":"/tags/electron/"},{"name":"é€šä¿¡","slug":"é€šä¿¡","permalink":"/tags/é€šä¿¡/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}]},{"title":"vue-property-decoratorç”¨æ³•","slug":"vue-property-decorator/index","date":"2022-03-17T07:33:17.000Z","updated":"2022-11-21T06:46:57.736Z","comments":true,"path":"2022/03/17/vue-property-decorator/index/","link":"","permalink":"/2022/03/17/vue-property-decorator/index/","excerpt":"","text":"vue-property-decoratordata&lt;script lang=&quot;ts&quot;&gt; import {Vue, Component} from &#39;vue-property-decorator&#39;; @Component({}) export default class &quot;ç»„ä»¶å&quot; extends Vue{ ValA: string = &quot;hello world&quot;; ValB: number = 1; } &lt;/script&gt; computed&lt;script lang=&quot;ts&quot;&gt; import {Vue, Component} from &#39;vue-property-decorator&#39;; @Component({}) export default class &quot;ç»„ä»¶å&quot; extends Vue{ get ValA(){ return 1; } } &lt;/script&gt; Emit@Emit()ä¸ä¼ å‚æ•°,é‚£ä¹ˆå®ƒè§¦å‘çš„äº‹ä»¶åå°±æ˜¯å®ƒæ‰€ä¿®é¥°çš„å‡½æ•°å.@Emit(name: string),é‡Œé¢ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²,è¯¥å­—ç¬¦ä¸²ä¸ºè¦è§¦å‘çš„äº‹ä»¶å. &lt;script lang=&quot;ts&quot;&gt; import {Vue, Component, Emit} from &#39;vue-property-decorator&#39;; @Component({}) export default class &quot;ç»„ä»¶å&quot; extends Vue{ mounted(){ this.$on(&#39;emit-todo&#39;, function(n) { console.log(n) }) this.emitTodo(&#39;world&#39;); } @Emit() emitTodo(n: string){ console.log(&#39;hello&#39;); } } &lt;/script&gt; Watch&lt;script&gt; import {Vue, Component, Watch} from &#39;vue-property-decorator&#39;; @Watch(&#39;child&#39;) onChangeValue(newVal: string, oldVal: string){ // todo... } @Watch(&#39;person&#39;, {immediate: true, deep: true}) onChangeValue(newVal: Person, oldVal: Person){ // todo... } &lt;/script&gt; Prop&lt;script lang=&quot;ts&quot;&gt; import {Vue, Component, Prop} from &#39;vue-property-decorator&#39;; @Component({}) export default class &quot;ç»„ä»¶å&quot; extends Vue{ @Prop(Number) propA!: number; @Prop({default: &#39;default value&#39;}) propB!: string; @propC([String, Boolean]) propC: string | boolean; } &lt;/script&gt; Mixinsä¸€ç§æ˜¯vue-class-componentæä¾›çš„. &lt;script&gt; import Component {mixins} from &#39;vue-class-component&#39;; import myMixins from &#39;mixins.ts&#39;; @Component // ç›´æ¥extends myMinxins ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œ export class myComponent extends mixins(myMixins) { created(){ console.log(this.value) // =&gt; Hello } } &lt;/script&gt; ç¬¬äºŒç§æ–¹å¼æ˜¯åœ¨@Componentä¸­æ··å…¥. &lt;script&gt; import { Vue, Component, Prop } from &#39;vue-property-decorator&#39;; import myMixins from &#39;@static/js/mixins&#39;; @Component({ mixins: [myMixins] }) export default class myComponent extends Vue{ created(){ console.log(this.value) // =&gt; Hello } } &lt;/script&gt;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}],"tags":[{"name":"vue","slug":"vue","permalink":"/tags/vue/"},{"name":"vue-property-decorator","slug":"vue-property-decorator","permalink":"/tags/vue-property-decorator/"},{"name":"ts","slug":"ts","permalink":"/tags/ts/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}]},{"title":"webpacké…ç½®å…¨å±€svgå›¾æ ‡","slug":"svg-webpack/index","date":"2022-03-17T07:19:17.000Z","updated":"2022-11-21T06:45:41.770Z","comments":true,"path":"2022/03/17/svg-webpack/index/","link":"","permalink":"/2022/03/17/svg-webpack/index/","excerpt":"","text":"webpacké…ç½®const { defineConfig } = require(&#39;@vue/cli-service&#39;) const path = require(&#39;path&#39;) function resolve(dir) { return path.join(__dirname, dir) } const port = 7070; const title = &#39;webpackæµ‹è¯•&#39;; module.exports = defineConfig({ transpileDependencies: true, lintOnSave: false, // æ˜¯å¦åœ¨å¼€å‘ç¯å¢ƒä¸‹æ¯æ¬¡ä¿å­˜ä»£ç æ—¶éƒ½å¯ç”¨ eslintéªŒè¯ devServer: { port: port }, chainWebpack(config) { config.module.rule(&#39;svg&#39;) .exclude.add(resolve(&#39;src/assets&#39;)) // æ·»åŠ svg-sprite-loader config.module.rule(&#39;svg-icon&#39;) .test(/\\.svg$/) .include.add(resolve(&#39;src/assets&#39;)) .end() .use(&#39;svg-sprite-loader&#39;) // æ·»åŠ loader .loader(&#39;svg-sprite-loader&#39;)// åˆ‡æ¢ä¸Šä¸‹æ–‡åˆ°loader .options({symbolId: &#39;icon-[name]&#39;}) .end() } }) icon.vue&lt;template&gt; &lt;div class=&quot;icon&quot;&gt; &lt;svg&gt; &lt;use :xlink:href=&quot;iconName&quot; :class=&quot;svgClass&quot;&gt;&lt;/use&gt; &lt;/svg&gt; &lt;/div&gt; &lt;/template&gt; &lt;script lang=&quot;ts&quot;&gt; import { Component, Vue, Prop } from &#39;vue-property-decorator&#39;; @Component({ components: { }, }) export default class HomeView extends Vue { @Prop() private iconClass!: string; @Prop() private className!: string; get iconName(): string { return `#icon-${this.iconClass}`; } get svgClass(): string { if(this.className) { return `icon-svg ${this.className}`; } return &#39;icon-svg&#39;; } } &lt;/script&gt; &lt;style scoped&gt; .icon-svg { } &lt;/style&gt; icon.jsimport Vue from &quot;vue&quot;; import Icon from &#39;@/components/icon.vue&#39; // å›¾æ ‡è‡ªåŠ¨å¯¼å…¥ // åˆ©ç”¨webpack çš„require.contextè‡ªåŠ¨å¯¼å…¥ // è¿”å›çš„reqæ˜¯åªå»åŠ è½½svgç›®å½•ä¸­çš„æ¨¡å—çš„å‡½æ•° const req = require.context(&#39;./svg&#39;, false, /\\.svg$/) // è·¯å¾„ï¼Œ æ˜¯å¦é€’å½’ï¼Œ åŒ¹é…è§„åˆ™ req.keys().map(req); Vue.component(&#39;Icon&#39;, Icon) main.js å¼•ç”¨icon.jsimport &#39;@/assets/index&#39; home.vue ä½¿ç”¨icon&lt;template&gt; &lt;div class=&quot;home&quot;&gt; &lt;icon icon-class=&quot;wx&quot;&gt;&lt;/icon&gt; &lt;icon icon-class=&quot;qq&quot;&gt;&lt;/icon&gt; &lt;/div&gt; &lt;/template&gt; &lt;script lang=&quot;ts&quot;&gt; import { Component, Vue } from &#39;vue-property-decorator&#39;; @Component({ components: {} }) export default class HomeView extends Vue {} &lt;/script&gt;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}],"tags":[{"name":"svg","slug":"svg","permalink":"/tags/svg/"},{"name":"å›¾æ ‡","slug":"å›¾æ ‡","permalink":"/tags/å›¾æ ‡/"},{"name":"webpack","slug":"webpack","permalink":"/tags/webpack/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}]},{"title":"ç®€å•å®ç°vueåŒå‘ç»‘å®šä»¥åŠv-textã€v-modelã€v-htmlã€@clickã€æ’å€¼è¡¨è¾¾å¼","slug":"vuejs/index","date":"2022-03-11T08:30:17.000Z","updated":"2022-11-21T06:47:10.941Z","comments":true,"path":"2022/03/11/vuejs/index/","link":"","permalink":"/2022/03/11/vuejs/index/","excerpt":"","text":"htmlé¡µé¢&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Vue&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script src=&quot;Untitled-1.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;Compile.js&quot;&gt;&lt;/script&gt; &lt;div id=&quot;app&quot;&gt; &lt;p&gt;{{name}}&lt;/p&gt; &lt;p v-text=&quot;name&quot;&gt;&lt;/p&gt; &lt;p&gt;{{age}}&lt;/p&gt; &lt;input type=&quot;text&quot; v-model=&quot;model&quot;&gt; &lt;div v-html=&quot;html&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;script&gt; const app = new Vue({ el: &#39;#app&#39;, data: { name: &#39;jina&#39;, // obj: { // age: 18 // }, age: 12, model: &#39;aaa&#39;, html: &#39;&lt;button @click=&quot;click&quot;&gt;è¿™æ˜¯ä¸€ä¸ªæŒ‰é’®&lt;/button&gt;&#39; }, created() { // setTimeout(() =&gt; { // this.name = &#39;ä¿®æ”¹æµ‹è¯•&#39; // }, 2000); }, metheds: { click() { this.name = &#39;jierui&#39;; console.log(this.name); } } }) // app.name = &#39;zong&#39;; // app.obj.age = 12; // console.log(app.$data); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; å®ç°Vueæ„é€ å‡½æ•°class Vue { constructor(options) { // ä¿å­˜æ•°æ® this.$options = options; // ä¼ å…¥data this.$data = options.data; this.$metheds = options.metheds; // å“åº”åŒ–å¤„ç† this.observe(this.$data); // Watcher æµ‹è¯• // new Watcher(this, &#39;name&#39;); // this.name; // new Watcher(this, &#39;obj.age&#39;); // this.obj.age; // ç¼–è¯‘å™¨æµ‹è¯• new Compile(options.el, this); if (options.created) { options.created.call(this); } } observe(data) { // æš‚ä¸è€ƒè™‘æ•°ç»„å’Œå‡½æ•° if (!data || typeof data !== &#39;object&#39;) return; Object.keys(data).forEach(key =&gt; { this.defineReactive(data, key, data[key]); // ä»£ç†dataä¸­çš„å±æ€§åˆ°vueæ ¹ä¸Š this.proxyData(key); }) } defineReactive(data, key, value) { // é€’å½’å¤„ç† this.observe(value); // å®šä¹‰ä¸€ä¸ªDep const dep = new Dep(); // ç»™dataä¸­çš„æ¯ä¸ªkeyå®šä¹‰æ‹¦æˆª Object.defineProperty(data, key, { get() { // æ”¶é›†ä¾èµ– Dep.target &amp;&amp; dep.addDep(Dep.target); return value; }, set(newValue) { if (newValue !== value) { value = newValue; console.log(key + &#39; æ•°æ®æ›´æ–°ï¼&#39;) dep.notify(); } } }) } proxyData(key) { Object.defineProperty(this, key, { get() { return this.$data[key]; }, set(newValue) { this.$data[key] = newValue; } }) } } // åˆ›å»ºdep ç®¡ç†æ‰€æœ‰watcher class Dep { constructor() { // å­˜å‚¨æ‰€æœ‰ä¾èµ– this.watchers = []; } addDep(watcher) { this.watchers.push(watcher); } notify() { this.watchers.forEach(watcher =&gt; watcher.update()) } } // åˆ›å»ºwatcher ä¿å­˜dataä¸­æ•°å€¼å’Œé¡µé¢ä¸­çš„æŒ‚é’©å…³ç³» class Watcher { constructor(vm, key, cb) { this.vm= vm; this.key = key; this.cb = cb; // åˆ›å»ºå®ä¾‹æ—¶ ç«‹åˆ»å°†è¯¥å®ä¾‹æŒ‡å‘é™æ€å±æ€§Dep.targetä¾¿äºä¾èµ–æ”¶é›† Dep.target = this; this.vm[key]; Dep.target = null; } update() { console.log(this.key + &#39;æ›´æ–°äº†ï¼&#39;); this.cb.call(this.vm, this.vm[this.key]); } } å®ç°Compileæ„é€ å‡½æ•°// éå†domç»“æ„ï¼Œè§£ææŒ‡ä»¤å’Œæ’å€¼è¡¨è¾¾å¼ class Compile { // el: å¾…ç¼–è¯‘æ¨¡æ¿ vm: Vueå®ä¾‹ constructor(el, vm) { this.$el = document.querySelector(el); this.$vm = vm; // æŠŠæ¨¡æ¿ä¸­çš„å†…å®¹ç§»åˆ°ç‰‡æ®µæ“ä½œ this.$fragment = this.nodeFragment(this.$el); // æ‰§è¡Œç¼–è¯‘å™¨ this.compile(this.$fragment); // æ”¾å›$elä¸­ this.$el.appendChild(this.$fragment); } nodeFragment(el) { /* DocumentFragments æ˜¯DOMèŠ‚ç‚¹ã€‚å®ƒä»¬ä¸æ˜¯ä¸»DOMæ ‘çš„ä¸€éƒ¨åˆ†ã€‚ é€šå¸¸çš„ç”¨ä¾‹æ˜¯åˆ›å»ºæ–‡æ¡£ç‰‡æ®µï¼Œå°†å…ƒç´ é™„åŠ åˆ°æ–‡æ¡£ç‰‡æ®µï¼Œç„¶åå°†æ–‡æ¡£ç‰‡æ®µé™„åŠ åˆ°DOMæ ‘ã€‚ åœ¨DOMæ ‘ä¸­ï¼Œæ–‡æ¡£ç‰‡æ®µè¢«å…¶æ‰€æœ‰çš„å­å…ƒç´ æ‰€ä»£æ›¿ã€‚ å› ä¸ºæ–‡æ¡£ç‰‡æ®µå­˜åœ¨äºå†…å­˜ä¸­ï¼Œå¹¶ä¸åœ¨DOMæ ‘ä¸­ï¼Œæ‰€ä»¥å°†å­å…ƒç´ æ’å…¥åˆ°æ–‡æ¡£ç‰‡æ®µæ—¶ä¸ä¼šå¼•èµ·é¡µé¢å›æµï¼ˆå¯¹å…ƒç´ ä½ç½®å’Œå‡ ä½•ä¸Šçš„è®¡ç®—ï¼‰ã€‚ å› æ­¤ï¼Œä½¿ç”¨æ–‡æ¡£ç‰‡æ®µé€šå¸¸ä¼šå¸¦æ¥æ›´å¥½çš„ æ€§èƒ½ */ const fragment = document.createDocumentFragment(); let child; while (child = el.firstChild) { fragment.appendChild(child); } return fragment; } compile(el) { const childNodes = el.childNodes; Array.from(childNodes).forEach(node =&gt; { if (node.nodeType === 1) { // å…ƒç´  console.log(&#39;ç¼–è¯‘å…ƒç´ &#39; + node.nodeName); this.compileElement(node); } else if (this.isInter(node)) { // æ–‡æœ¬ console.log(&#39;ç¼–è¯‘æ’å€¼æ–‡æœ¬&#39; + node.textContent); this.compileText(node); } // é€’å½’å­èŠ‚ç‚¹ if (node.children &amp;&amp; node.childNodes.length &gt; 0) { this.compile(node); } }) } // æ­£åˆ™è¡¨è¾¾å¼è§£ææ˜¯å¦ä¸ºæ–‡æœ¬ isInter(node) { return node.nodeType === 3 &amp;&amp; /\\{\\{(.*)\\}\\}/.test(node.textContent) } // æ–‡æœ¬ç¼–è¯‘ compileText(node) { const exp = RegExp.$1; this.update(node, exp, &#39;text&#39;); node.textContent = this.$vm[RegExp.$1]; } // å…ƒç´ ç¼–è¯‘ compileElement(node) { const nodeAttrs = node.attributes; Array.from(nodeAttrs).forEach(attr =&gt; { // v-xxx=&quot;yyy&quot; const attrName = attr.name;// v-xxx const exp = attr.value;// yyy if (attrName.indexOf(&#39;v-&#39;) === 0) { const dir = attrName.substring(2); this[dir] &amp;&amp; this[dir](node, exp, dir); } else if (attrName === &#39;@click&#39;) { const _this = this; node.addEventListener(&#39;click&#39;, function() { _this.$vm.$metheds[exp].call(_this.$vm); }) } }) } // æ›´æ–° update(node, exp, dir) { const updator = this[dir + &#39;Updator&#39;]; updator &amp;&amp; updator(node, this.$vm[exp]); new Watcher(this.$vm, exp, function(value) { updator &amp;&amp; updator(node, value); }); } // v-text æ›´æ–°å¤„ç† text(node, exp, dir) { this.update(node, exp, dir) } // ä¿®æ”¹æ–‡æœ¬çš„å€¼ textUpdator(node, value) { node.textContent = value; } // v-html html(node, exp, dir) { this.update(node, exp, dir) } htmlUpdator(node, value) { node.innerHTML = value; } // v-model model(node, exp, dir) { this.update(node, exp, dir); const _this = this; node.addEventListener(&#39;input&#39;, function(InputEvent) { _this.$vm[exp] = InputEvent.target.value; }) } modelUpdator(node, value) { node.value = value; } }","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}],"tags":[{"name":"åŸç†","slug":"åŸç†","permalink":"/tags/åŸç†/"},{"name":"vue","slug":"vue","permalink":"/tags/vue/"},{"name":"åŒå‘ç»‘å®š","slug":"åŒå‘ç»‘å®š","permalink":"/tags/åŒå‘ç»‘å®š/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}]},{"title":"æ‰‹å†™noticeå¼¹çª—ç»„ä»¶","slug":"notice-component/index","date":"2022-02-25T09:56:17.000Z","updated":"2022-11-21T06:45:09.372Z","comments":true,"path":"2022/02/25/notice-component/index/","link":"","permalink":"/2022/02/25/notice-component/index/","excerpt":"","text":"æ‰‹å†™noticeå¼¹çª—ç»„ä»¶notice.vue &lt;template&gt; &lt;div v-if=&quot;isShow&quot;&gt; &lt;p&gt;{{title}}&lt;/p&gt; &lt;p&gt;{{text}}&lt;/p&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: { title: { type: String, default: &#39;&#39; }, text: { type: String, default: &#39;&#39; }, time: { type: Number, default: 0 } }, data() { return { isShow: false } }, methods: { show() { this.isShow = true; this.time &amp;&amp; setTimeout(() =&gt; { this.hide(); }, this.time) }, hide() { this.isShow = false; this.remove(); } } } &lt;/script&gt; create.js import Vue from &quot;vue&quot;; export default function create(component, props) { // åˆ›å»ºvueå®ä¾‹ const vm = new Vue({ render(h) { return h(component, {props}) } }).$mount(); // è·å–ç»„ä»¶å®ä¾‹ const comp = vm.$children[0]; // ç»„ä»¶å®ä¾‹è¿½åŠ åˆ°body document.body.appendChild(vm.$el); // æ¸…ç†å‡½æ•° comp.remove = () =&gt; { document.body.removeChild(vm.$el); vm.$destroy(); } // è¿”å›ç»„ä»¶å®ä¾‹ return comp; } ä½¿ç”¨noticeç»„ä»¶ const notice = Create(Notice, { title: &#39;ç™»å½•&#39;, text: &#39;æ­£ç¡®ï¼&#39;, time: 3000 }) notice.show();","categories":[{"name":"noticeå¼¹çª—ç»„ä»¶","slug":"noticeå¼¹çª—ç»„ä»¶","permalink":"/categories/noticeå¼¹çª—ç»„ä»¶/"}],"tags":[{"name":"ç»„ä»¶","slug":"ç»„ä»¶","permalink":"/tags/ç»„ä»¶/"},{"name":"notice","slug":"notice","permalink":"/tags/notice/"},{"name":"å¼¹çª—","slug":"å¼¹çª—","permalink":"/tags/å¼¹çª—/"}],"keywords":[{"name":"noticeå¼¹çª—ç»„ä»¶","slug":"noticeå¼¹çª—ç»„ä»¶","permalink":"/categories/noticeå¼¹çª—ç»„ä»¶/"}]},{"title":"æ‰‹å†™formç»„ä»¶","slug":"form-component/index","date":"2022-02-25T06:04:17.000Z","updated":"2022-11-21T06:44:22.926Z","comments":true,"path":"2022/02/25/form-component/index/","link":"","permalink":"/2022/02/25/form-component/index/","excerpt":"","text":"formç»„ä»¶inputç»„ä»¶ &lt;template&gt; &lt;div&gt; &lt;input :value=&quot;value&quot; @input=&quot;onInput&quot; v-bind=&quot;$attrs&quot;&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { inheritAttrs: false, props: { value: { type: String, default: &#39;&#39; } }, methods: { onInput(e) { this.$emit(&#39;input&#39;, e.target.value); // é˜²æ­¢inputå¤šå±‚åµŒå¥—ï¼ŒformItemæ— æ³•æ­£å¸¸æ´¾å‘äº‹ä»¶ const parent = this.getParent(this.$parent); parent.$emit(&#39;validate&#39;); }, getParent(parent) { if (parent.$options._componentTag === &#39;CFormItem&#39;) return parent; this.getParent(parent.$parent); } } } &lt;/script&gt; checkboxç»„ä»¶ &lt;template&gt; &lt;div&gt; &lt;input type=&quot;checkbox&quot; :checked=&quot;checked&quot; @change=&quot;onCahnge&quot; v-bind=&quot;$attrs&quot;&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { inheritAttrs: false, props: { checked: { type: Boolean, default: false } }, model: { prop: &#39;checked&#39;, event: &#39;change&#39; }, methods: { onCahnge(e) { this.$emit(&#39;change&#39;, e.target.checked); const parent = this.getParent(this.$parent); parent.$emit(&#39;validate&#39;); }, getParent(parent) { if (parent.$options._componentTag === &#39;CFormItem&#39;) return parent; this.getParent(parent.$parent); } } } &lt;/script&gt; formItemç»„ä»¶ &lt;template&gt; &lt;div&gt; &lt;label v-if=&quot;label&quot;&gt; {{ label }} &lt;/label&gt; &lt;slot&gt;&lt;/slot&gt; &lt;p v-if=&quot;erroeMsg&quot;&gt;{{ erroeMsg }}&lt;/p&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; /* è¡¨å•å¼‚æ­¥éªŒè¯jsåº“ï¼šasync-validatorï¼Œelement-uiä¸­çš„formç»„ä»¶æ‰€ä½¿ç”¨çš„éªŒè¯æ–¹å¼ã€‚ npm install --save async-validator */ import Schema from &#39;async-validator&#39;; export default { props: { label: { type: String, default: &#39;&#39; }, prop: { type: String } }, inject: [&#39;form&#39;], data() { return { erroeMsg: &#39;&#39; } }, mounted() { this.$on(&#39;validate&#39;, () =&gt; { this.validate(); }) }, methods: { validate() { // è·å–æ ¡éªŒè§„åˆ™ const rule = this.form.rules[this.prop]; // è·å–æ•°å€¼ const value = this.form.model[this.prop]; // æ‰§è¡Œæ ¡éªŒ const desc = { [this.prop]: rule }; const schema = new Schema(desc); return schema.validate({[this.prop]: value}, errors =&gt; { if (errors) { this.erroeMsg = errors[0].message; } else { this.erroeMsg = &#39;&#39;; } }); } } } &lt;/script&gt; formç»„ä»¶ &lt;template&gt; &lt;div&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: { model: { type: Object, requireg: true }, rules: { type: Object } }, provide() { return { form : this } }, data() { return { } }, methods: { validate(cb) { const tasks = this.$children .filter(item =&gt; item.prop) .map(item =&gt; item.validate()); Promise.all(tasks) .then(() =&gt; cb(true)) .catch(() =&gt; cb(false)) } } } &lt;/script&gt; å¼•ç”¨formç»„ä»¶ &lt;template&gt; &lt;div class=&quot;wrap&quot;&gt; &lt;CForm :model=&quot;model&quot; :rules=&quot;rules&quot; ref=&quot;form&quot;&gt; &lt;CFormItem label=&quot;ç”¨æˆ·å&quot; prop=&quot;userName&quot;&gt; &lt;CInput v-model=&quot;model.userName&quot;&gt;&lt;/CInput&gt; &lt;/CFormItem&gt; &lt;CFormItem label=&quot;å¯†ç &quot; prop=&quot;passWord&quot;&gt; &lt;CInput v-model=&quot;model.passWord&quot; type=&quot;passWord&quot;&gt;&lt;/CInput&gt; &lt;/CFormItem&gt; &lt;CFormItem label=&quot;å‹¾é€‰&quot; prop=&quot;checked&quot;&gt; &lt;CCheckBox v-model=&quot;model.checked&quot;&gt;&lt;/CCheckBox&gt; &lt;/CFormItem&gt; &lt;CFormItem&gt; &lt;button @click=&quot;login&quot;&gt;ç™»å½•&lt;/button&gt; &lt;/CFormItem&gt; {{ model }} &lt;/CForm&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import CForm from &#39;@/components/form/index&#39;; import CInput from &#39;@/components/form/input.vue&#39; import CCheckBox from &#39;@/components/form/checkBox&#39; import CFormItem from &#39;@/components/form/formItem.vue&#39; export default { components: { CForm, CInput, CFormItem, CCheckBox }, data() { return { model: { userName: &#39;&#39;, passWord: &#39;&#39;, checked: false }, rules: { userName: [{required: true, message: &quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;}], passWord: [{required: true, message: &quot;è¯·è¾“å…¥å¯†ç &quot;}], checked: [{validator: (rule, value) =&gt; value, message: &quot;è¯·å‹¾é€‰&quot;}] } } }, methods: { login() { this.$refs.form.validate((isValid) =&gt; { if (isValid) { alert(&#39;ç™»å½•ï¼&#39;) } else { alert(&#39;é”™è¯¯ï¼&#39;) } }) } }, created() { // console.log(&#39;è·¯ç”±æŸ¥è¯¢å‚æ•°&#39;,this.$tab.query()) }, } &lt;/script&gt; &lt;style scoped&gt; &lt;/style&gt;","categories":[{"name":"form","slug":"form","permalink":"/categories/form/"}],"tags":[{"name":"form","slug":"form","permalink":"/tags/form/"},{"name":"ç»„ä»¶","slug":"ç»„ä»¶","permalink":"/tags/ç»„ä»¶/"},{"name":"è¡¨å•éªŒè¯","slug":"è¡¨å•éªŒè¯","permalink":"/tags/è¡¨å•éªŒè¯/"}],"keywords":[{"name":"form","slug":"form","permalink":"/categories/form/"}]},{"title":"ç¬”è®°","slug":"note/index","date":"2022-02-23T06:58:17.000Z","updated":"2022-11-21T06:44:59.831Z","comments":true,"path":"2022/02/23/note/index/","link":"","permalink":"/2022/02/23/note/index/","excerpt":"","text":"ç»„ä»¶é€šä¿¡çˆ¶ =&gt; å­ props // child props: { msg: String } // parent &lt;helloWorld msg=&quot;welcome&quot; /&gt; $refs // parent &lt;helloWorld msg=&quot;welcome&quot; ref=&quot;helloWorld&quot; /&gt; this.$refs.helloWorld.xx = &#39;xxx&#39; $children // parent $childrenä¸ä¿è¯å­ç»„ä»¶é¡ºåº this.$children[0].xx = &#39;xxx&#39; å­ =&gt; çˆ¶ $emit // child this.$emit(&#39;add&#39;, &#39;msg&#39;) // parent &lt;helloWorld @add=&quot;add&quot; /&gt; å…„å¼Ÿç»„ä»¶é€šä¿¡ $parent / $root // brother1 ç›‘å¬ this.$parent.$on(&#39;foo&#39;, &#39;msg&#39;) // brother1 æ´¾å‘ this.$parent.$emit(&#39;foo&#39;) ç¥–å…ˆåä»£ç»„ä»¶é€šä¿¡æ³¨ï¼šå®˜æ–¹ä¸å»ºè®®é¡¹ç›®ä½¿ç”¨ï¼Œå¹¶ä¸”ä¸å»ºè®®ä¿®æ”¹ // ç¥– provide() { return { foo: &#39;foo&#39; } } // å inject: [&#39;foo&#39;] ä»»æ„ä¸¤ä¸ªç»„ä»¶é€šä¿¡Vue.prototype.$bus = new Vue() // child1 this.$bus.$on(&#39;foo&#39;, handle) // child2 this.$bus.$emit(&#39;foo&#39;, &#39;msg&#39;) æ’æ§½// åŒ¿åæ’æ§½ &lt;div&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt; &lt;helloWorld&gt; &lt;template v-slot:default&gt;&lt;/template&gt; &lt;/helloWorld&gt; // å…·åæ’æ§½ &lt;div&gt; &lt;slot name=&quot;main&quot;&gt;&lt;/slot&gt; &lt;/div&gt; &lt;helloWorld&gt; &lt;template v-slot:main&gt;&lt;/template&gt; &lt;/helloWorld&gt; // ä½œç”¨åŸŸæ’æ§½ &lt;div&gt; &lt;slot name=&quot;main&quot; msg=&quot;msg&quot;&gt;&lt;/slot&gt; &lt;/div&gt; &lt;helloWorld&gt; &lt;template v-slot:main={msg}&gt;{{ msg }}&lt;/template&gt; &lt;/helloWorld&gt;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}],"tags":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/tags/ç¬”è®°/"},{"name":"vue","slug":"vue","permalink":"/tags/vue/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"}]},{"title":"æ•°ç»„éå†çš„å®ç°","slug":"array-traverse-rewrite/index","date":"2022-02-23T02:18:17.000Z","updated":"2022-11-21T06:43:15.168Z","comments":true,"path":"2022/02/23/array-traverse-rewrite/index/","link":"","permalink":"/2022/02/23/array-traverse-rewrite/index/","excerpt":"","text":"å®ç°æ•°ç»„çš„filteræ–¹æ³•Array.prototype.filter =&gt; (fn) { let arr = []; for (let i = 0; i &lt; this.lenght; i++) { if (fn(this[i], i, this)) { arr.push(this[i]) } } return arr; }","categories":[{"name":"JS","slug":"JS","permalink":"/categories/JS/"}],"tags":[{"name":"JS","slug":"JS","permalink":"/tags/JS/"},{"name":"Array","slug":"Array","permalink":"/tags/Array/"},{"name":"éå†","slug":"éå†","permalink":"/tags/éå†/"}],"keywords":[{"name":"JS","slug":"JS","permalink":"/categories/JS/"}]},{"title":"Axiosæ‹¦æˆªè¯·æ±‚å°è£…","slug":"axios/index","date":"2022-02-22T06:57:17.000Z","updated":"2022-11-21T06:43:30.017Z","comments":true,"path":"2022/02/22/axios/index/","link":"","permalink":"/2022/02/22/axios/index/","excerpt":"","text":"Axiosæ‹¦æˆªè¯·æ±‚å°è£…è¯·æ±‚å°è£… import { ApiError } from &#39;@/structure/Request&#39;; import { Config } from &#39;@/utils/Config&#39;; import axios, { AxiosRequestConfig } from &#39;axios&#39;; const service = axios.create({ baseURL: Config.API_ADDRESS, timeout: Config.TIME_OUT }); // è¯·æ±‚æ‹¦æˆªå™¨ service.interceptors.request.use( (config: AxiosRequestConfig) =&gt; { config.headers[&#39;token&#39;] = Config.getToken() || &#39;&#39;; return config; }, error =&gt; { Promise.reject(error); } ); // å“åº”æ‹¦æˆªå™¨ service.interceptors.response.use( response =&gt; { const data = response.data; if (data.code !== 200) { switch (data.code) { case 400: return Promise.reject(ApiError.BadRequest); case 401: return Promise.reject(ApiError.Unauthorized); case 403: return Promise.reject(ApiError.Forbidden); case 404: return Promise.reject(ApiError.ResourceNotFound); case 500: return Promise.reject(ApiError.ServerSideError); case 1001: return Promise.reject(ApiError.CustomError.from(data.msg)); default: return Promise.reject(ApiError.Unexpected.from(data.msg)); } } else { return data; } }, error =&gt; { return Promise.reject(error); } ); export default service; è°ƒç”¨å°è£… import { ApiResponse } from &#39;@/structure/Request&#39;; import service from &#39;@/utils/service&#39;; export class CommonApi { public static async getTimestamp(): Promise&lt;number&gt; { const response = await service.get&lt;void, ApiResponse&lt;number&gt;&gt;(&#39;/utils/getSystemTime&#39;); return response.result; } }","categories":[{"name":"Axios","slug":"Axios","permalink":"/categories/Axios/"}],"tags":[{"name":"Axios","slug":"Axios","permalink":"/tags/Axios/"},{"name":"Axiosæ‹¦æˆª","slug":"Axiosæ‹¦æˆª","permalink":"/tags/Axiosæ‹¦æˆª/"}],"keywords":[{"name":"Axios","slug":"Axios","permalink":"/categories/Axios/"}]},{"title":"vueå¼‚æ­¥æ›´æ–°æœºåˆ¶","slug":"vue-asynchronous-update-mechanism/index","date":"2022-02-21T02:16:17.000Z","updated":"2022-11-21T06:46:23.685Z","comments":true,"path":"2022/02/21/vue-asynchronous-update-mechanism/index/","link":"","permalink":"/2022/02/21/vue-asynchronous-update-mechanism/index/","excerpt":"","text":"vueå¼‚æ­¥æ›´æ–°æœºåˆ¶vueä¸­æ›´æ–°domæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œåªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚ï¼ˆå…ˆç¼“å†²ï¼Œç¼“å†²åå†å°†å¤šæ¬¡è§¦å‘å±æ€§çš„æœ€åä¸€æ¬¡ä½œä¸ºpromiseæ”¾å…¥é˜Ÿåˆ—ï¼›è€Œä¸æ˜¯ä¸€ä¸Šæ¥å°±æ”¾é˜Ÿåˆ—ï¼‰ vueä¸­æ•°æ®çš„æ›´æ–°åˆ°domæ˜¯å¼‚æ­¥çš„ï¼Œæ•°æ®çš„å¼‚æ­¥æ›´æ–°å¯ä»¥ç†è§£æˆä¸€ä¸ªpromiseçš„å¾®ä»»åŠ¡ï¼›å¹¶ä¸”å¯¹åŒä¸€ä¸ªå±æ€§å€¼è¿›è¡Œå¤šæ¬¡èµ‹å€¼æ—¶ï¼Œåªæœ‰æœ€åä¸€æ¬¡èµ‹å€¼ä¼šä½œä¸ºä¸€ä¸ªpromiseå¾®ä»»åŠ¡æ”¾åˆ°æ›´æ–°é˜Ÿåˆ—ã€‚ &lt;template&gt; &lt;div id=&quot;example&quot;&gt;{{message}}&lt;/div&gt; &lt;/template&gt; &lt;script&gt; var vm = new Vue({ el: &#39;#example&#39;, data: { message: &#39;123&#39; } }) Promise.resolve(1).then(value =&gt; { console.log(&quot;xxx&quot;, vm.$el.textContent); // ç¬¬äºŒæ­¥è¾“å‡ºï¼š123 }) vm.message = &#39;msg&#39; // æ›´æ”¹æ•°æ® Promise.resolve(2).then(value =&gt; { console.log(&quot;æµ‹è¯•&quot;, vm.$el.textContent); // ç¬¬ä¸‰æ­¥è¾“å‡ºï¼šnew }) vm.message = &#39;new&#39; // æ›´æ”¹æ•°æ® Promise.resolve(3).then(value =&gt; { console.log(&quot;fff&quot;, vm.$el.textContent); // ç¬¬å››æ­¥è¾“å‡ºï¼šnew }) console.log(vm.$el.textContent); // ç¬¬ä¸€æ­¥è¾“å‡ºï¼š123 &lt;/script&gt;","categories":[{"name":"VUE","slug":"VUE","permalink":"/categories/VUE/"}],"tags":[{"name":"VUE","slug":"VUE","permalink":"/tags/VUE/"},{"name":"å¼‚æ­¥æ›´æ–°æœºåˆ¶","slug":"å¼‚æ­¥æ›´æ–°æœºåˆ¶","permalink":"/tags/å¼‚æ­¥æ›´æ–°æœºåˆ¶/"}],"keywords":[{"name":"VUE","slug":"VUE","permalink":"/categories/VUE/"}]},{"title":"å‰ç«¯ JS ç¼–ç¨‹é¢˜ï¼ˆåº”ç”¨ç±»ï¼‰","slug":"js-application/index","date":"2021-11-16T03:30:45.000Z","updated":"2022-11-21T06:44:43.150Z","comments":true,"path":"2021/11/16/js-application/index/","link":"","permalink":"/2021/11/16/js-application/index/","excerpt":"","text":"ä¸€ã€æ‰‹å†™é˜²æŠ–ï¼ˆdebounceï¼‰// debounce // ä¸¾ä¾‹ï¼šè´­ç‰©è½¦åŠ å‡æ•°é‡ function debounce(fn, delay=500) { // timer å†™åœ¨é—­åŒ…ä¸­ï¼Œå› æ­¤é˜²æŠ–ä¹Ÿæ˜¯é—­åŒ…çš„ä¸€ä¸ªåº”ç”¨ let timer = null; return function() { if (timer) { clearTimeout(timer) } timer = setTimeout(() =&gt; { fn.apply(this, arguments); timer = null; }, delay) } } // éªŒè¯ input1.addEventListener(&#39;keyup&#39;, debounce(() =&gt; { console.log(input1.value); }), 600) äºŒã€æ‰‹å†™èŠ‚æµï¼ˆthrottleï¼‰// èŠ‚æµ // ä¸¾ä¾‹ï¼šbuttonæŒ‰é’®ç‚¹å‡»åç½®ç° function throttle(fn, delay=100) { let timer = null; return () =&gt; { if (timer) return; timer = setTimeOut(() =&gt; { fn.apply(this, arguments); timer = null; }, delay) } } // éªŒè¯ div1.addEventListener((&#39;drag&#39;, throttle(function (e) { console.log(e.offsetX, e.offsetY) }))) ä¸‰ã€äº‹ä»¶å§”æ‰˜å‡è®¾ä¸€ä¸ª ul ä¸‹æœ‰ä¸€ä¸‡ä¸ª liï¼Œli çš„ innerHTML æ˜¯ä» 0 åˆ° 9999ï¼Œå½“ç‚¹å‡»æŸä¸ª li æ—¶è¾“å‡ºè¯¥ li ä»£è¡¨çš„å€¼ window.onload = function() { // åˆ›å»ºdom var ul = document.getElementsByTagName(&quot;ul&quot;); var arr = []; for (let i = 0; i &lt; 100000; i++) { arr.push(i); } ul[0].innerHTML = &#39;&lt;li&gt;&#39; + arr.join(&#39;&lt;/li&gt;&lt;li&gt;&#39;) + &#39;&lt;/li&gt;&#39; // äº‹ä»¶å§”æ‰˜ let ul = document.getElementById(&#39;ul&#39;); ul.onclick = (e) =&gt; { console.log(e.target.innerText) } } å››ã€æ‰‹å†™ Promise åŠ è½½ä¸€å¼ å›¾ç‰‡function loadImg(scr) { return new Promise((resolve, reject) =&gt; { const img = document.createElement(&#39;img&#39;); img.onload = () =&gt; { resolve(img); } img.onerror = () =&gt; { reject(new Error(`å›¾ç‰‡åŠ è½½å¤±è´¥ ${src}`)) } img.src = src; }) } const url = &#39;https://pic.leetcode-cn.com/1604237471-xbJgZl-%E5%9B%BE%E7%89%871.png&#39;; loadImg(url).then(img =&gt; { console.log(img.width) return img }).then(img =&gt; { console.log(img.height) }).catch(ex =&gt; console.error(ex)) äº”ã€ç”¨ ajaxajax åŸç”Ÿå®ç°ä¸€ä¸ª post è¯·æ±‚function ajax_post(url, data) { // 1. å¼‚æ­¥å¯¹è±¡ ajax var ajax = new XMLHttpRequest(); // 2. url æ–¹æ³• ajax.open(&#39;post&#39;, url); // 3. è®¾ç½®è¯·æ±‚æŠ¥æ–‡ ajax.setRequestHeader(&#39;Content-type&#39;, &#39;text/plain&#39;); // 4. å‘é€ if (data) { ajax.send(data); } else { ajax.send(); } // 5. æ³¨å†Œäº‹ä»¶ ajax.onreadystatechange = function () { if (ajax.readyState === 4 &amp;&amp; ajax.status === 200) { console.log(ajax.respenseText); } } } å…­ã€æ¯éš”ä¸€ç§’è¾“å‡ºä¸€ä¸ªæ•°å­—// ä½¿ç”¨let for (let i = 0; i &lt; 10; i++) { setTimeout(() =&gt; { console.log(i); }, 1000 * i) } // ä½¿ç”¨é—­åŒ… for (var i = 0; i &lt; 10; i++) { (function(j) { setTimeout(() =&gt; { console.log(j); }, 1000 * j) })(i) } // ä½¿ç”¨settimeoutç¬¬ä¸‰ä¸ªå‚æ•° for(var i = 0; i &lt;= 5; i++){ setTimeout((j) =&gt; { console.log(j); },i * 1000, i) } ä¸ƒã€ åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰/* * @param x {Object} å¯¹è±¡1 * @param y {Object} å¯¹è±¡2 * @return {Boolean} true ä¸ºç›¸ç­‰ï¼Œfalse ä¸ºä¸ç­‰ */ const deepEqual = (x, y) =&gt; { if (x === y) { return true; } else if ((typeof x === &#39;object&#39; &amp;&amp; x != null) &amp;&amp; (typeof y === &#39;object&#39; &amp;&amp; y != null)) { if (Object.keys(x).length !=== Object.keys(y).length) return false; for (let prop in x) { if (y.hasOwnproperty(prop)) { if (!deepEqual(x.prop, y.prop)) return false; } else { return false; } } return true; } return false; } // è°ƒåº“å®ç° console.log(_.isEqual(x, y))","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"},{"name":"å‰ç«¯","slug":"ç¬”è®°/å‰ç«¯","permalink":"/categories/ç¬”è®°/å‰ç«¯/"}],"tags":[{"name":"JS","slug":"JS","permalink":"/tags/JS/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"/tags/å‰ç«¯/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"/tags/é¢è¯•é¢˜/"},{"name":"åº”ç”¨","slug":"åº”ç”¨","permalink":"/tags/åº”ç”¨/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"},{"name":"å‰ç«¯","slug":"ç¬”è®°/å‰ç«¯","permalink":"/categories/ç¬”è®°/å‰ç«¯/"}]},{"title":"å‰ç«¯ JS ç¼–ç¨‹é¢˜ï¼ˆåŸç†ç±»ï¼‰","slug":"js-principle/index","date":"2021-11-14T08:42:45.000Z","updated":"2022-11-21T06:44:51.509Z","comments":true,"path":"2021/11/14/js-principle/index/","link":"","permalink":"/2021/11/14/js-principle/index/","excerpt":"","text":"ä¸€ã€ æ·±æ‹·è´// deepClone function deepClone(obj = {}) { if (typeof obj !== &#39;object&#39; || obj == null) { // obj æ˜¯ null æˆ–è€…ä¸æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼Œç›´æ¥è¿”å› return obj; } let res; if (obj instanceof Array) { res = []; } else { res = {}; } for (let key in obj) { // åˆ¤æ–­è‡ªèº«ä¸­æ˜¯å¦åŒ…å«è‡ªèº«å±æ€§ if (obj.hasOwnProperty(key)) { res[key] = deepClone(obj[key]) } } return res; } // éªŒè¯ o = {a: 1, d: {c: &#39;4&#39;}}; res = deepClone(o); console.log(res); console.log(res == o); äºŒã€æµ…æ‹·è´// é¦–å…ˆå®šä¹‰ä¸€ä¸ªå¯¹è±¡ const hero = { name: &#39;Batman&#39;, city: &#39;Gotham&#39; }; // **********************æ–¹æ³•ä¸€********************** const heroEnhancedClone = { ...hero, name: &#39;Batman Clone&#39;, realName: &#39;Bruce Wayne&#39; }; // éªŒè¯ // { name: &#39;Batman Clone&#39;, city: &#39;Gotham&#39;, realName: &#39;Bruce Wayne&#39; } heroEnhancedClone; // **********************æ–¹æ³•äºŒ********************** const { ...heroClone } = hero; // éªŒè¯ heroClone; // { name: &#39;Batman&#39;, city: &#39;Gotham&#39; } hero === heroClone; // =&gt; false // **********************æ–¹æ³•ä¸‰********************** const hero = { name: &#39;Batman&#39;, city: &#39;Gotham&#39; }; // éªŒè¯ const heroClone = Object.assign({}, hero); heroClone; // { name: &#39;Batman&#39;, city: &#39;Gotham&#39; } hero === heroClone; // =&gt; false ä¸‰ã€æ‰‹å†™ bind å‡½æ•°// æ¨¡æ‹Ÿ bind Function.prototype.bind1 = function() { // å°†å‚æ•°æ‹†è§£ä¸ºæ•°ç»„ const args = Array.prototype.slice.call(arguments) // å˜æˆæ•°ç»„ // è·å– thisï¼ˆæ•°ç»„ç¬¬ä¸€é¡¹ï¼‰ const t = args.shift() // fn1.bind(...) ä¸­çš„ fn1 const self = this // è¿”å›ä¸€ä¸ªå‡½æ•° return function() { return self.apply(t, args) } } function fn1(a, b, c){ console.log(&#39;this&#39;, this) console.log(a, b, c) return &#39;this is fn1&#39; } const fn2 = fn1.bind1({x: 100}, 10, 20, 30) const res = fn2() console.log(res) å››ã€æ‰‹å†™ newfunction funcNew(obj, ...args) { const newObj = Object.create(obj.prototype); const result = obj.apply(newObj, args); return (typeof result === &#39;object&#39; &amp;&amp; result !== null) ? result : newObj; } new ä¸€ä¸ªå®ä¾‹ä¼šå—åˆ°è¿”å›å€¼çš„å½±å“ï¼Œæ¯”å¦‚ï¼š /** * --- Person ä¸­ return ä¸€ä¸ªå¯¹è±¡ï¼Œp ä¸ºè¯¥å¯¹è±¡ --- */ function Person(name) { this.name = name; return {age: 35} } Person.prototype.sayName = function() { console.log(this.name); } const p = new Person(&#39;orange&#39;) console.log(p) // { age: 35 } console.log(p.name) // undefined p.sayName(); // TypeError: p.sayName is not a function /** * --- Person è¿”å›éå¯¹è±¡ï¼Œreturn ä¸å½±å“ç»“æœ --- */ function Person(name) { this.name = name; return &#39;free&#39; } Person.prototype.sayName = function() { console.log(this.name); } const p = new Person(&#39;orange&#39;) console.log(p) // Person { name: &#39;orange&#39; } console.log(p.name) // orange p.sayName(); // orange äº”ã€æ‰‹å†™ instanceof/* * --- æ‰‹åŠ¨å®ç° instanceof --- */ function newInstanceOf (leftValue, rightValue) { if (typeof leftValue !== &#39;object&#39; || rightValue == null) { return false; } let rightProto = rightValue.prototype; leftValue = leftValue.__proto__; while (true) { if (leftValue === null) return false; if (leftValue === rightProto) return true; leftValue = leftValue.__proto__; } } /* * --- éªŒè¯ --- */ const a = []; const b = {}; function Foo () {} var c = new Foo() function Child () {} function Father() {} Child.prototype = new Father() var d = new Child() console.log(newInstanceOf(a, Array)) // true console.log(newInstanceOf(b, Object)) // true console.log(newInstanceOf(b, Array)) // false console.log(newInstanceOf(a, Object)) // true console.log(newInstanceOf(c, Foo)) // true console.log(newInstanceOf(d, Child)) // true console.log(newInstanceOf(d, Father)) // true console.log(newInstanceOf(123, Object)) // false console.log(123 instanceof Object) // false è¿™ä¸ªé—®é¢˜æ—¢è€ƒå¯Ÿäº† instanceof çš„åŸç†ï¼Œåˆè€ƒå¯Ÿäº†åŸå‹é“¾ï¼Œè¿˜è€ƒå¯Ÿäº†ä»£ç èƒ½åŠ›ï¼Œæ˜¯ä¸€ä¸ªå¥½é—®é¢˜ã€‚åœ¨å®ç°ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ¤æ–­ leftValue æ˜¯å¦ä¸º rightValue çš„å®ä¾‹ï¼Œæ€æƒ³æ˜¯åœ¨ leftValue çš„åŸå‹é“¾ä¸Šï¼Œå³ leftValue.proto ä¸Šå¯»æ‰¾æ˜¯å¦å­˜åœ¨ rightValue.prototypeã€‚ å…­ã€å®ç° Promise.all()1ã€æ¥æ”¶ä¸€ä¸ª Promise å®ä¾‹çš„æ•°ç»„æˆ–å…·æœ‰ Iterator æ¥å£çš„å¯¹è±¡ï¼Œ 2ã€å¦‚æœå…ƒç´ ä¸æ˜¯ Promise å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨ Promise.resolve è½¬æˆ Promise å¯¹è±¡ 3ã€å¦‚æœå…¨éƒ¨æˆåŠŸï¼ŒçŠ¶æ€å˜ä¸º resolvedï¼Œè¿”å›å€¼å°†ç»„æˆä¸€ä¸ªæ•°ç»„ä¼ ç»™å›è°ƒ 4ã€åªè¦æœ‰ä¸€ä¸ªå¤±è´¥ï¼ŒçŠ¶æ€å°±å˜ä¸º rejectedï¼Œè¿”å›å€¼å°†ç›´æ¥ä¼ é€’ç»™å›è°ƒall() çš„è¿”å›å€¼ä¹Ÿæ˜¯æ–°çš„ Promise å¯¹è±¡ function promiseAll(promises) { return new Promise(function(resolve, reject) { if (!isArray(promises)) { return reject(new TypeError(&#39;arguments must be an array&#39;)); } var resolvedCounter = 0; var promiseNum = promises.length; var resolvedValues = new Array(promiseNum); for (var i = 0; i &lt; promiseNum; i++) { (function(i) { Promise.resolve(promises[i]).then(function(value) { resolvedCounter++ resolvedValues[i] = value if (resolvedCounter == promiseNum) { return resolve(resolvedValues) } }, function(reason) { return reject(reason) }) })(i) } }) }","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"},{"name":"å‰ç«¯","slug":"ç¬”è®°/å‰ç«¯","permalink":"/categories/ç¬”è®°/å‰ç«¯/"}],"tags":[{"name":"JS","slug":"JS","permalink":"/tags/JS/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"/tags/å‰ç«¯/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"/tags/é¢è¯•é¢˜/"},{"name":"åŸç†","slug":"åŸç†","permalink":"/tags/åŸç†/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"},{"name":"å‰ç«¯","slug":"ç¬”è®°/å‰ç«¯","permalink":"/categories/ç¬”è®°/å‰ç«¯/"}]},{"title":"å‰ç«¯ JS ç¼–ç¨‹é¢˜ï¼ˆç®—æ³•ç±»ï¼‰","slug":"js-algorithm/index","date":"2021-11-14T06:42:45.000Z","updated":"2022-11-21T06:44:34.998Z","comments":true,"path":"2021/11/14/js-algorithm/index/","link":"","permalink":"/2021/11/14/js-algorithm/index/","excerpt":"","text":"ä¸€ã€æ‰‹å†™å¿«æ’ã€å†’æ³¡ã€é€‰æ‹©æ’åºâ‘  å¿«é€Ÿæ’åº/** * --- æµ‹è¯•ç”¨ä¾‹ --- * * è¾“å…¥ï¼š[1, 34, 5, 76, 8, 6, 9, 7, 6, 3] * è¾“å‡ºï¼š[1, 3, 5, 6, 6, 7, 8, 9, 34, 76] * * --- è¯´æ˜ --- * * æ€è€ƒï¼šå¿«é€Ÿæ’åºæ˜¯ç¨³å®šçš„å—ï¼Ÿ * è§£ç­”ï¼šbase çš„æ¯æ¬¡é€‰æ‹©ï¼Œä¼šå¯¼è‡´å¿«æ’æ˜¯ä¸ç¨³å®šæ’åºã€‚ */ const quickSort = (nums) =&gt; { if (nums.length &lt; 2) { return nums; } else { var left = []; var right = []; var pivot = Math.floor(nums.length / 2); // Math.floor å‘ä¸‹å–æ•´ var base = nums.splice(pivot, 1)[0]; for (let i = 0; i &lt; nums.length; i++) { if (nums[i] &lt; base) { left.push(nums[i]); } else { right.push(nums[i]); } } } return quickSort(left).concat([base], quickSort(right)); } â‘¡ å†’æ³¡æ’åº/** * --- æµ‹è¯•ç”¨ä¾‹ --- * * è¾“å…¥ï¼š[5, 2, 4, 7, 9, 8, 3, 6, 3, 8, 3] * è¾“å‡ºï¼š[2, 3, 3, 3, 4, 5, 6, 7, 8, 8, 9] * * --- è¯´æ˜ --- * * æ€è€ƒï¼šå†’æ³¡æ’åºæ˜¯ç¨³å®šçš„å—ï¼Ÿ * è§£ç­”ï¼šç¨³å®šã€‚ç›¸ç­‰çš„å…ƒç´ ä¸å‘ç”Ÿäº¤æ¢ */ const bubbleSort = (nums) =&gt; { for (var i = 0; i &lt; nums.length - 1; i++) { for (var j = 0; j &lt; nums.length - 1 - i; j++) { if (nums[j] &gt; nums[j + 1]) { let tmp = nums[j]; nums[j] = nums[j + 1]; nums[j + 1] = tmp; } } } return nums; } â‘¢ é€‰æ‹©æ’åº/** * --- æµ‹è¯•ç”¨ä¾‹ --- * * è¾“å…¥ï¼š[6, 45, 3, 2, 5, 6, 8, 4, 3, 4, 56, 67, 5] * è¾“å‡ºï¼š[2, 3, 3, 4, 4, 5, 5, 6, 6, 8, 45, 56, 67] * * --- è¯´æ˜ --- * * æ€è€ƒï¼šé€‰æ‹©æ’åºæ˜¯ç¨³å®šçš„å—ï¼Ÿ * è§£ç­”ï¼šè¦çœ‹ä»£ç æ˜¯å¦‚ä½•å®ç°çš„ï¼Œåœ¨æœ¬ä¾‹ä¸­ç”±äºæœ‰äº¤æ¢ï¼Œæ‰€ä»¥æ˜¯ä¸ç¨³å®šæ’åºã€‚ */ const selectSort = (nums) =&gt; { var idx; // æœ€å°å€¼çš„ç´¢å¼• for (var i = 0; i &lt; nums.length - 1; i++) { idx = i; for (var j = i + 1; j &lt; nums.length; j++) { if (nums[j] &lt; nums[idx]) { idx = j; } } if (nums[i] &gt; nums[idx]) { let tmp = nums[idx]; nums[idx] = nums[i]; nums[i] = tmp; } } return nums; }s äºŒã€URL æ‹†è§£é—®é¢˜â‘ /** * --- é¢˜ç›®æè¿° --- * * å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å¯¹ url ä¸­çš„ query éƒ¨åˆ†åšæ‹†è§£ï¼Œè¿”å›ä¸€ä¸ª key: value å½¢å¼çš„ object * * --- å®ä¾‹ --- * * è¾“å…¥ï¼š&#39;http://sample.com/?a=1&amp;e&amp;b=2&amp;c=xx&amp;d#hash&#39; * è¾“å‡ºï¼š{a: 1, b: 2, c: &#39;xx&#39;, d: &#39;&#39;} */ function getQueryObj(url) { // TODO let arr = url.split(&#39;?&#39;)[1].split(&#39;#&#39;)[0].split(&#39;&amp;&#39;); const res = {}; arr.forEach(e =&gt; { const [key, value] = e.split(&#39;=&#39;); if (!value) { res[key] = &#39;&#39;; } else { res[key] = value; } }) return res; } â‘¡/** * --- é¢˜ç›®æè¿° --- * * å®ç°ä¸€ä¸ª parseParem å‡½æ•°ï¼Œå°† url è½¬åŒ–ä¸ºæŒ‡å®šç»“æœ * * --- æµ‹è¯•ç”¨ä¾‹ --- * * è¾“å…¥ï¼šurl = &#39;http://www.domain.com/?user=anonymous&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;enabled&#39; * è¾“å‡ºï¼š { user:&#39;anonymous&#39;, id:[123,456],// é‡å¤å‡ºç°çš„ key è¦ç»„è£…æˆæ•°ç»„ï¼Œèƒ½è¢«è½¬æˆæ•°å­—çš„å°±è½¬æˆæ•°å­—ç±»å‹ city:&#39;åŒ—äº¬&#39;,// ä¸­æ–‡éœ€è§£ç  enabled: true // æœªæŒ‡å®šå€¼çš„ key ä¸çº¦å®šä¸º true } */ const parseParem = (url) =&gt; { const arr = url.split(&#39;?&#39;)[1].split(&#39;&amp;&#39;); const res = {}; arr.forEach((e) =&gt; { let key = e.split(&#39;=&#39;)[0], value = e.split(&#39;=&#39;)[1]; if (value === undefined) { res[key] = true; } else { if (key in res) { Array.isArray(res[key]) ? res[key].push(value) : res[key] = [res[key]].concat(value); } else { res[key] = decodeURI(value) } } }) return res; } ä¸‰ã€å°† HTTP header è½¬æ¢æˆ js å¯¹è±¡/** * --- é¢˜ç›®æè¿° --- * * å®ç°ä¸€ä¸ªæ–¹æ³•ï¼ŒæŠŠ HTTP æ–‡æœ¬å½¢å¼(å­—ç¬¦ä¸²)çš„ header è½¬æ¢æˆ JS å¯¹è±¡ã€‚ * * --- æµ‹è¯•ç”¨ä¾‹ --- * * è¾“å…¥ï¼š * `Accept-Ranges: bytes * Cache-Control: max-age=6000, public * Connection: keep-alive * Content-Type: application/javascript` * è¾“å‡ºï¼š * { * &quot;Accept-Ranges&quot;: &quot;bytes&quot;, * &quot;Cache-Control&quot;: &quot;max-age=6000, public&quot;, * Connection: &quot;keep-alive&quot;, * &quot;Content-Type&quot;: &quot;application/javascript&quot; * } * * --- è§£é¢˜æ€è·¯ --- * * 1. é¦–å…ˆå°†æ¯è¡Œæ•°æ®ä½œä¸ºæ•°ç»„çš„ä¸€ä¸ªå…ƒç´  * 2. å°†æ¯ä¸ªå…ƒç´ ä½¿ç”¨å†’å·åˆ†å‰²ï¼Œå‰é¢ä¸º `key`ï¼Œåé¢ä¸º `value`ã€‚ */ const solution = (s) =&gt; { let res = {}; let arr = s.split(&quot;\\n&quot;); arr.forEach((e) =&gt; { let tmp = e.split(&quot;: &quot;); res[tmp[0]] = tmp[1]; }) return res; } å››ã€æ•°ç»„æ‰å¹³åŒ–â‘  é€’å½’var arr = [1, [2, [3, 4]]]; function flatten(arr) { var result = []; for (var i = 0, len = arr.length; i &lt; len; i++) { if (Array.isArray(arr[i])) { result = result.concat(flatten(arr[i])) } else { result.push(arr[i]) } } return result; } console.log(flatten(arr)) â‘¡ es6 æ‹“å±•è¿ç®—ç¬¦var arr = [1, [2, [3, 4]]]; function flatten(arr) { while (arr.some(item =&gt; Array.isArray(item))) { arr = [].concat(...arr); } return arr; } console.log(flatten(arr)) â‘¢ flatconst arr1 = [0, 1, 2, [[[3, 4]]]]; console.log(arr1.flat(3)); // 3 ä»£è¡¨æ•°ç»„å†…æœ€å¤šåµŒå¥—å±‚æ•° // output: [0, 1, 2, 3, 4]","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"},{"name":"å‰ç«¯","slug":"ç¬”è®°/å‰ç«¯","permalink":"/categories/ç¬”è®°/å‰ç«¯/"}],"tags":[{"name":"JS","slug":"JS","permalink":"/tags/JS/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"/tags/å‰ç«¯/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"/tags/ç®—æ³•/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"/tags/é¢è¯•é¢˜/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"/categories/ç¬”è®°/"},{"name":"å‰ç«¯","slug":"ç¬”è®°/å‰ç«¯","permalink":"/categories/ç¬”è®°/å‰ç«¯/"}]},{"title":"Gitä¸Githubè¿›è¡ŒSSHè¿æ¥","slug":"git-github-ssh/index","date":"2020-04-14T08:43:17.000Z","updated":"2022-11-21T06:44:28.800Z","comments":true,"path":"2020/04/14/git-github-ssh/index/","link":"","permalink":"/2020/04/14/git-github-ssh/index/","excerpt":"","text":"å®‰è£…Git1ã€åˆ°Gitå®˜ç½‘ä¸‹è½½ä¸ä½ æ­£åœ¨ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿ(æœ¬æ–‡ä»¥windowsä¸ºä¾‹)ç›¸å¯¹åº”çš„æ–‡ä»¶ã€‚ä¸€èˆ¬åœ°ï¼Œé€‰æ‹©64-bit Git for Windows Setup2ã€å®‰è£…æ—¶æ³¨æ„ï¼šå‹¾é€‰æ·»åŠ gitåˆ°ç¯å¢ƒå˜é‡ï¼›åœ¨Windows Explorer Integrationä¸­å‹¾é€‰Git Bash Hereã€‚å…¶ä½™é…ç½®é»˜è®¤å³å¯3ã€å®‰è£…å®Œæˆå(å¯èƒ½éœ€è¦æ³¨é”€æˆ–é‡å¯)ï¼Œåœ¨ä»»æ„ä¸€ä¸ªæ–‡ä»¶å¤¹ç©ºç™½å¤„å³é”®ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰Git Bash Hereçš„é€‰é¡¹ è®¾ç½®é‚®ç®±å’Œç”¨æˆ·åæ‰“å¼€Git Bashï¼Œè¾“å…¥å‘½ä»¤å‡åœ¨Git Bashä¸­è¿›è¡Œ git config --global user.name &quot;WangRongsheng&quot; git config --global user.email &quot;603329354@qq.com&quot; è®¾ç½®é‚®ç®±å’Œç”¨æˆ·åssh-keygen -t rsa -C &quot;603329354@qq.com&quot; å›è½¦ä¹‹åä¼šå‡ºç°å¦‚ä¸‹æ‰€ç¤ºçš„è¾“å‡ºï¼Œç›´æ¥æŒ‰å›è½¦å³å¯ï¼š Generating public/private rsa key pair. Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa): (æŒ‰å›è½¦é”®) Enter passphrase (empty for no passphrase): (æŒ‰å›è½¦é”®) Enter same passphrase again: (æŒ‰å›è½¦é”®) å°†å…¬é’¥æ·»åŠ åˆ°githubä¸­1ã€åœ¨C:\\user\\xxx.ssh\\æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°id_rsa.pubè¿™ä¸ªæ–‡ä»¶ï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨(å¦‚è®°äº‹æœ¬)æ‰“å¼€ï¼Œå¤åˆ¶é‡Œé¢çš„æ‰€æœ‰å†…å®¹2ã€ç™»é™†githubè´¦å·ï¼Œç‚¹å‡»å¤´åƒæ—çš„å°ä¸‰è§’å±•å¼€ï¼Œç‚¹å‡»settings-SSH and GPG keys-New SSH keyï¼Œåœ¨Titleä¸­å–ä¸€ä¸ªåå­—ï¼ˆä»»æ„ï¼‰ï¼Œkeyä¸­ç²˜è´´ä½ åˆšåˆšå¤åˆ¶çš„å†…å®¹ã€‚ç„¶åç‚¹å‡»Add SSH keyå³å¯ æµ‹è¯•æ˜¯å¦å…³è”æˆåŠŸè¾“å…¥ï¼š ssh -T git@github.com å‡ºç°ä»¥ä¸‹ç»“æœå³ä¸ºæˆåŠŸï¼š Hi WangRongsheng! You&#39;ve successfully authenticated, but GitHub does not provide shell access.","categories":[{"name":"git","slug":"git","permalink":"/categories/git/"},{"name":"github","slug":"git/github","permalink":"/categories/git/github/"},{"name":"ssh","slug":"git/github/ssh","permalink":"/categories/git/github/ssh/"}],"tags":[{"name":"git","slug":"git","permalink":"/tags/git/"},{"name":"github","slug":"github","permalink":"/tags/github/"},{"name":"ssh","slug":"ssh","permalink":"/tags/ssh/"}],"keywords":[{"name":"git","slug":"git","permalink":"/categories/git/"},{"name":"github","slug":"git/github","permalink":"/categories/git/github/"},{"name":"ssh","slug":"git/github/ssh","permalink":"/categories/git/github/ssh/"}]},{"title":"sortable+elementå®ç°è¡¨æ ¼è¡Œæ‹–æ‹½","slug":"sortable-element-drag/index","date":"2020-04-07T08:42:45.000Z","updated":"2022-11-21T06:45:23.696Z","comments":true,"path":"2020/04/07/sortable-element-drag/index/","link":"","permalink":"/2020/04/07/sortable-element-drag/index/","excerpt":"","text":"å®‰è£…npm install vuedraggable å¼•å…¥import Sortable from &#39;sortablejs&#39; el-table æ·»åŠ row-keyå±æ€§&lt;el-table ref=&quot;filterTable&quot; row-key=&quot;ip&quot; @filter-change=&quot;handlerFilterChange&quot; class=&quot;cl-table&quot; :data=&quot;resourceList&quot; v-loading=&quot;resourceListLoading&quot; stripe style=&quot;width:100%;&quot;&gt; &lt;el-table-column prop=&quot;name&quot; label=&quot;ä¸»æœºå&quot; :min-width=&quot;150&quot; show-overflow-tooltip&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; å°†æ‹–æ‹½å…ƒç´ è®¾ç½®ä¸ºè¦æ‹–åŠ¨é¡¹çš„çˆ¶çº§å…ƒç´ mounted() { // è¡¨æ ¼ä¸­éœ€è¦å®ç°è¡Œæ‹–åŠ¨ï¼Œæ‰€ä»¥é€‰ä¸­trçš„çˆ¶çº§å…ƒç´  const table = document.querySelector(&#39;.el-table__body-wrapper tbody&#39;) const self = this Sortable.create(table, { onEnd({ newIndex, oldIndex }) { console.log(newIndex, oldIndex) const targetRow = self.resourceList.splice(oldIndex, 1)[0] self.resourceList.splice(newIndex, 0, targetRow) } }) }","categories":[{"name":"VUE","slug":"VUE","permalink":"/categories/VUE/"},{"name":"element","slug":"VUE/element","permalink":"/categories/VUE/element/"}],"tags":[{"name":"VUE","slug":"VUE","permalink":"/tags/VUE/"},{"name":"element","slug":"element","permalink":"/tags/element/"},{"name":"table","slug":"table","permalink":"/tags/table/"},{"name":"æ‹–æ‹½","slug":"æ‹–æ‹½","permalink":"/tags/æ‹–æ‹½/"}],"keywords":[{"name":"VUE","slug":"VUE","permalink":"/categories/VUE/"},{"name":"element","slug":"VUE/element","permalink":"/categories/VUE/element/"}]},{"title":"vue-element-table-æ»šåŠ¨åŠ è½½","slug":"vue-element-table_rolling-load/index","date":"2020-04-07T08:42:45.000Z","updated":"2022-11-21T06:46:45.879Z","comments":true,"path":"2020/04/07/vue-element-table_rolling-load/index/","link":"","permalink":"/2020/04/07/vue-element-table_rolling-load/index/","excerpt":"","text":"é¦–å…ˆåœ¨main.jsæ–‡ä»¶æ³¨å†Œå…¨å±€äº‹ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š Vue.directive(&#39;loadmore&#39;, { bind(el, binding) { var p = 0; var t = 0; var down = true; var selectWrap = el.querySelector(&#39;.el-table__body-wrapper&#39;) selectWrap.addEventListener(&#39;scroll&#39;, function() { //åˆ¤æ–­æ˜¯å¦å‘ä¸‹æ»šåŠ¨ p = this.scrollTop; // if ( t &lt; p){down=true}else{down=false} if(t &lt; p){ down = true; }else{ down = false; } t = p; //åˆ¤æ–­æ˜¯å¦åˆ°åº• const sign = 10; const scrollDistance = this.scrollHeight - this.scrollTop - this.clientHeight if (scrollDistance &lt;= sign &amp;&amp; down) { binding.value() } }) } }) åœ¨ç»„ä»¶ä¸­ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„äº‹ä»¶ï¼šv-loadmore=â€loadMoreâ€åœ¨methodsä¸­è°ƒç”¨loadMoreè¿™æ ·å°±å®ç°å•¦ï¼ï¼ï¼","categories":[{"name":"VUE","slug":"VUE","permalink":"/categories/VUE/"},{"name":"element","slug":"VUE/element","permalink":"/categories/VUE/element/"}],"tags":[{"name":"VUE","slug":"VUE","permalink":"/tags/VUE/"},{"name":"element","slug":"element","permalink":"/tags/element/"},{"name":"table","slug":"table","permalink":"/tags/table/"},{"name":"æ»šåŠ¨åŠ è½½","slug":"æ»šåŠ¨åŠ è½½","permalink":"/tags/æ»šåŠ¨åŠ è½½/"}],"keywords":[{"name":"VUE","slug":"VUE","permalink":"/categories/VUE/"},{"name":"element","slug":"VUE/element","permalink":"/categories/VUE/element/"}]},{"title":"viewPorté€‚é…ç§»åŠ¨ç«¯","slug":"viewPort/index","date":"2020-04-07T08:42:17.000Z","updated":"2022-11-21T06:46:05.712Z","comments":true,"path":"2020/04/07/viewPort/index/","link":"","permalink":"/2020/04/07/viewPort/index/","excerpt":"","text":"PostCSS åŸºæœ¬æ’ä»¶é»˜è®¤å®‰è£…vue-cli è„šæ‰‹æ¶ module.exports = { &quot;plugins&quot;: { &quot;postcss-import&quot;: {}, &quot;postcss-url&quot;: {}, // to edit target browsers: use &quot;browserslist&quot; field in package.json &quot;autoprefixer&quot;: {} } } PostCSS å…¶ä»–æ’ä»¶å®‰è£…å…¶ä»–æ’ä»¶ npm i postcss-aspect-ratio-mini postcss-px-to-viewport postcss-write-svg postcss-cssnext postcss-viewport-units cssnano --S å®‰è£…æˆåŠŸä¹‹å package.json æ˜¾ç¤ºï¼š &quot;dependencies&quot;: { &quot;axios&quot;: &quot;^0.18.0&quot;, &quot;cssnano&quot;: &quot;^4.1.0&quot;, &quot;postcss-aspect-ratio-mini&quot;: &quot;0.0.2&quot;, &quot;postcss-cssnext&quot;: &quot;^3.1.0&quot;, &quot;postcss-px-to-viewport&quot;: &quot;0.0.3&quot;, &quot;postcss-viewport-units&quot;: &quot;^0.1.4&quot;, &quot;postcss-write-svg&quot;: &quot;^3.0.1&quot;, &quot;vue&quot;: &quot;^2.5.2&quot;, &quot;vue-router&quot;: &quot;^3.0.1&quot;, &quot;vuex&quot;: &quot;^3.0.1&quot; } .postcssrc.js æ–‡ä»¶è®¾ç½®è„šæ‰‹æ¶åŸæœ‰çš„ä¸‰ä¸ªé…ç½®é¡¹éœ€è¦æ³¨é‡Š autoprefixer ï¼Œç†ç”±æ˜¯ cssnano ä¸­å·²ç»å…·æœ‰æ­¤é…ç½® module.exports = { &quot;plugins&quot;: { &quot;postcss-import&quot;: {}, &quot;postcss-url&quot;: {}, // to edit target browsers: use &quot;browserslist&quot; field in package.json // &quot;autoprefixer&quot;: {}, &quot;postcss-aspect-ratio-mini&quot;: {}, &quot;postcss-write-svg&quot;: { utf8: false }, &quot;postcss-cssnext&quot;: {}, &quot;postcss-px-to-viewport&quot;: { viewportWidth: 750, // è§†çª—çš„å®½åº¦ï¼Œå¯¹åº”çš„æ˜¯æˆ‘ä»¬è®¾è®¡ç¨¿çš„å®½åº¦ï¼Œä¸€èˆ¬æ˜¯750 // viewportHeight: 1334, // è§†çª—çš„é«˜åº¦ï¼Œæ ¹æ®750è®¾å¤‡çš„å®½åº¦æ¥æŒ‡å®šï¼Œä¸€èˆ¬æŒ‡å®š1334ï¼Œä¹Ÿå¯ä»¥ä¸è®¾ç½® unitPrecision: 3, // æŒ‡å®š`px`è½¬æ¢ä¸ºè§†çª—å•ä½å€¼çš„å°æ•°ä½æ•°ï¼ˆå¾ˆå¤šæ—¶å€™æ— æ³•æ•´é™¤ï¼‰ viewportUnit: &#39;vw&#39;, // æŒ‡å®šéœ€è¦è½¬æ¢æˆçš„è§†çª—å•ä½ï¼Œå»ºè®®ä½¿ç”¨vw selectorBlackList: [&#39;.ignore&#39;, &#39;.hairlines&#39;], // æŒ‡å®šä¸è½¬æ¢ä¸ºè§†çª—å•ä½çš„ç±»ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œ å¯ä»¥æ— é™æ·»åŠ ,å»ºè®®å®šä¹‰ä¸€è‡³ä¸¤ä¸ªé€šç”¨çš„ç±»å minPixelValue: 1, // å°äºæˆ–ç­‰äº`1px`ä¸è½¬æ¢ä¸ºè§†çª—å•ä½ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºä½ æƒ³è¦çš„å€¼ mediaQuery: false // å…è®¸åœ¨åª’ä½“æŸ¥è¯¢ä¸­è½¬æ¢`px` }, &quot;postcss-viewport-units&quot;: {}, &quot;cssnano&quot;: { preset: &quot;advanced&quot;, autoprefixer: false, &quot;postcss-zindex&quot;: false } } } cssnano æ’ä»¶å®‰è£…åœ¨é…ç½®ä¸­æˆ‘ä»¬ä½¿ç”¨äº† preset: â€œadvancedâ€ ï¼Œæ‰€ä»¥è¿˜éœ€è¦å®‰è£… npm i cssnano-preset-advanced --save-dev åŸºæœ¬é…ç½® &quot;cssnano&quot;: { preset: &quot;advanced&quot;, autoprefixer: false, &quot;postcss-zindex&quot;: false } postcss-px-to-viewportè¿™æ˜¯æ ¸å¿ƒçš„æ’ä»¶ï¼Œå¸®åŠ©æˆ‘ä»¬å°† px è½¬æˆ vwã€vhã€vminã€vmaxç›®å‰å‡ºè§†è§‰è®¾è®¡ç¨¿ï¼Œéƒ½æ˜¯ä½¿ç”¨ 750pxï¼Œé‚£ä¹ˆ 100vw = 750pxï¼Œå³ 1vw = 7.5pxã€‚é‚£ä¹ˆæˆ‘ä»¬æ ¹æ®è®¾è®¡å›¾ä¸Š çš„px å€¼ç›´æ¥è½¬æ¢æˆå¯¹äºçš„ vw å€¼ã€‚å®é™…æ’¸ç è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦åšä»»ä½•è®¡ç®—ï¼Œç›´æ¥åœ¨ä»£ç ä¸­å†™ px å³å¯","categories":[{"name":"VUE","slug":"VUE","permalink":"/categories/VUE/"},{"name":"ç§»åŠ¨ç«¯","slug":"VUE/ç§»åŠ¨ç«¯","permalink":"/categories/VUE/ç§»åŠ¨ç«¯/"}],"tags":[{"name":"VUE","slug":"VUE","permalink":"/tags/VUE/"},{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"/tags/ç§»åŠ¨ç«¯/"}],"keywords":[{"name":"VUE","slug":"VUE","permalink":"/categories/VUE/"},{"name":"ç§»åŠ¨ç«¯","slug":"VUE/ç§»åŠ¨ç«¯","permalink":"/categories/VUE/ç§»åŠ¨ç«¯/"}]}]}